@inherits LayoutComponentBase

<PageTitle>RodManager</PageTitle>

<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <MudAppBar Elevation="0">
        <MudIconButton Icon="@Icons.Material.Rounded.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="ToggleDrawer"/>
        <MudText Typo="Typo.h6">Menadżer ROD</MudText>
        <MudSpacer/>
        <MudMenu AnchorOrigin="Origin.BottomRight" TransformOrigin="Origin.BottomLeft">
            <ActivatorContent>
                <MudAvatar Color="Color.Tertiary">J</MudAvatar>
            </ActivatorContent>
            <ChildContent>
                <MudMenuItem Icon="@Icons.Material.Rounded.Person" Href="/MyAccount">Moje konto</MudMenuItem>
                <MudMenuItem Icon="@Icons.Material.Rounded.Logout" Href="/Logout">Wyloguj</MudMenuItem>
            </ChildContent>
        </MudMenu>
    </MudAppBar>
    <MudDrawer ClipMode="DrawerClipMode.Always" Open="_isDrawerOpen">
        <MudNavMenu Rounded="true" Color="Color.Primary" Margin="Margin.Dense" Class="pa-2">
            <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Rounded.Home">Strona główna</MudNavLink>
            <MudNavLink Href="/Plots" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Rounded.Dashboard">Działki</MudNavLink>
            <MudNavLink Href="/AllotmentFarmers" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Rounded.People">Działkowcy</MudNavLink>
        </MudNavMenu>
    </MudDrawer>
    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.False">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    bool _isDrawerOpen = true;

    void ToggleDrawer()
    {
        _isDrawerOpen = !_isDrawerOpen;
    }
}